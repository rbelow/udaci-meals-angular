"use strict";angular.module("udaciMealsApp",["ui.router"]).config(["$stateProvider","$urlRouterProvider",function(a,b){b.otherwise("/"),a.state("home",{url:"/",templateUrl:"views/menu.html",controller:"MenuCtrl as menu"}).state("item",{url:"/item/:id",templateUrl:"views/item.html",controller:"ItemCtrl as item"}).state("item.nutrition",{url:"/nutrition",templateUrl:"views/item-nutrition.html"}).state("item.reviews",{url:"/reviews",templateUrl:"views/item-reviews.html"})}]),angular.module("udaciMealsApp").controller("MenuCtrl",["foodFinder","orderManager",function(a,b){var c=this;a.getMenu().then(function(a){c.items=a}),this.chooseItem=function(a,c){b.chooseMenuOption(a,c)},this.increment=function(a){a.rating=(10*a.rating+1)/10},this.decrement=function(a){a.rating=(10*a.rating-1)/10}}]),angular.module("udaciMealsApp").service("foodFinder",function(){this.getMenu=function(){return $.get("menu/menu.json")},this.getItem=function(a){var b="/menu/"+a+".json";return $.get(b)}}),angular.module("udaciMealsApp").service("orderManager",function(){var a="Monday",b={Monday:{breakfast:"",lunch:"",dinner:""},Tuesday:{breakfast:"",lunch:"",dinner:""},Wednesday:{breakfast:"",lunch:"",dinner:""},Thursday:{breakfast:"",lunch:"",dinner:""},Friday:{breakfast:"",lunch:"",dinner:""}};this.getActiveDay=function(){return a},this.setActiveDay=function(b){a=b},this.chooseMenuOption=function(c,d){b[a][c]=d},this.removeMenuOption=function(a,c){b[a][c]=""},this.getOrders=function(){return b}}),angular.module("udaciMealsApp").controller("OrderCtrl",["orderManager",function(a){this.list=a.getOrders(),this.setActiveDay=function(b){a.setActiveDay(b)}}]),angular.module("udaciMealsApp").controller("ItemCtrl",["$stateParams","foodFinder",function(a,b){var c=this;b.getItem(a.id).then(function(a){c.data=a})}]),angular.module("udaciMealsApp").run(["$templateCache",function(a){a.put("views/item-nutrition.html","<h3>Nutrition Facts</h3> <dl> <dt>Calories</dt> <dd>{{item.data.calories}}</dd> </dl>"),a.put("views/item-reviews.html",'<h3>Reviews</h3> <ul class="reviews-container"> <li class="review" ng-repeat="review in item.data.reviews">{{review}}</li> </ul>'),a.put("views/item.html",'<h3>{{item.data.name}}</h3> <img class="item__image" src="images/{{item.data.img}}" alt="{{item.data.name}}"> <dl> <dt>Rating</dt> <dd>{{item.data.rating}}</dd> <dt>{{Description}}</dt> <dd>{{item.data.description}}</dd> </dl> <p><a ui-sref="item.nutrition">Nutrition</a> <a ui-sref="item.reviews">Reviews</a></p> <div ui-view></div>'),a.put("views/menu.html",'<div class="row"> <div class="item-container" ng-repeat="item in menu.items"> <div class="col-md-4"> <img class="item_image" ng-src="images/{{item.img}}" alt="{{item.name}}"> <h4><a ui-sref="item({id: item.id})">{{ item.name }}</a></h4> <p>Rating: {{ item.rating }} <span ng-if="item.rating > 4.0" ng-class="{highlight: item.rating > 4.5}"> - People love this item!</span> <button ng-click="menu.increment(item)">+</button> <button ng-click="menu.decrement(item)">-</button> </p> <div class="well"> <select ng-model="item.meal" name="" id=""> <option value="breakfast">Breakfast</option> <option value="lunch">Lunch</option> <option value="dinner">Dinner</option> </select> <button ng-click="menu.chooseItem(item.meal, item.name)">Select Item</button> </div> <!-- <p>Image: {{ item.img }}</p> --> <!-- <p>\n                <textarea ng-model="menu.newReview" name="menu.review" rows="3" cols="40"></textarea>\n            </p>\n            <p>\n                {{menu.newReview}}\n                <span ng-if="!menu.newReview">Why not write a review!</span>\n            </p> --> </div> </div> </div>'),a.put("views/order.html",'<div class="row"> <div class="col-md-2 day" ng-repeat="(day, menuCategory) in order.list" ng-click="order.setActiveDay(day)">{{day}} <dl> <dt>Breakfast</dt> <dd>{{menuCategory.breakfast}}</dd> <dt>Lunch</dt> <dd>{{menuCategory.lunch}}</dd> <dt>Dinner</dt> <dd>{{menuCategory.dinner}}</dd> </dl> </div> </div>')}]);